<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>MIP-23: Release Conventions for Movement Technologies - MIP</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../../../../favicon.svg">
        <link rel="shortcut icon" href="../../../../../favicon.png">
        <link rel="stylesheet" href="../../../../../css/variables.css">
        <link rel="stylesheet" href="../../../../../css/general.css">
        <link rel="stylesheet" href="../../../../../css/chrome.css">
        <link rel="stylesheet" href="../../../../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../../../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../../../highlight.css">
        <link rel="stylesheet" href="../../../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../../../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../../../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">MIP</h1>

                    <div class="right-buttons">
                        <a href="../../../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/movementlabsxyz/MIP" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="mip-23-release-conventions-for-movement-technologies"><a class="header" href="#mip-23-release-conventions-for-movement-technologies">MIP-23: Release Conventions for Movement Technologies</a></h1>
<ul>
<li><strong>Description</strong>: Release Conventions for Movement Technologies address the delivery of canonical artifacts to the Movement community.</li>
<li><strong>Authors</strong>: <a href="mailto:liam@movementlabs.xyz">Liam Monninger</a></li>
<li><strong>Desiderata</strong>: <a href="../../MD/md-23">MD-23</a></li>
</ul>
<h2 id="abstract"><a class="header" href="#abstract">Abstract</a></h2>
<p>Release Conventions for Movement Technologies standardize the process of delivering artifacts to the Movement community. By providing a coherent and repeatable process for releasing artifacts, these conventions ensure that Movement technologies are accessible and easy to use.</p>
<p>The release conventions proposed herein are based on the usage of GitHub for source control and the tagging of GitHub releases. Guidelines for implementing programmatic access to release artifacts are also described. Finally, the intended relationship between releases and governance is outlined.</p>
<h2 id="motivation"><a class="header" href="#motivation">Motivation</a></h2>
<p>Movement technologies are continually evolving, and there’s a need to ensure that the process of releasing artifacts is both organized and standardized. By establishing Release Conventions for Movement Technologies, we aim to facilitate the delivery of canonical artifacts to the Movement community. This will ensure that Movement technologies are accessible, easy to use, and well-vetted.</p>
<h2 id="specification"><a class="header" href="#specification">Specification</a></h2>
<p>The definitions of “artifact” and “release” are accepted from <a href="../../MD/md-23">MD-n</a>.
They are submitted for formal adoption in <a href="../MG/mg-n">MG-n</a> and <a href="../MG/mg-k">MG-k</a>.</p>
<p>We break the specification into four sections:</p>
<ol>
<li><strong>Standardized Release Naming Convention</strong>: the section specifying the naming convention to be used for releases.</li>
<li><strong>Standardized Source Control</strong>: the section specifying the process for initiating releases from source control.</li>
<li><strong>Programmatic Access to Release Artifacts</strong>: the section specifying how release artifacts can be fetched programmatically and how software should be designed to this end.</li>
<li><strong>Standard Relationship between Releases and Governance</strong>: the section specifying the relationship between releases and governance as should be assumed the default.</li>
</ol>
<h3 id="1-standardized-release-naming-convention"><a class="header" href="#1-standardized-release-naming-convention">1. Standardized Release Naming Convention</a></h3>
<p>We propose the following naming convention for releases, inspired by the <a href="https://github.com/aptos-labs/aptos-core/blob/main/RELEASE.md">Aptos release standard</a>:</p>
<pre><code>&lt;software-unit&gt;-v&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;-&lt;release-type&gt;
</code></pre>
<p>Where:</p>
<ul>
<li><code>&lt;software-unit&gt;</code>: the name of the software unit being released, e.g., the Suzuka Full Node.</li>
<li><code>&lt;major&gt;</code>, <code>&lt;minor&gt;</code>, <code>&lt;patch&gt;</code>: the version numbers of the release conforming to <a href="https://semver.org/">Semantic Versioning</a>.</li>
<li><code>&lt;release-type&gt;</code>: the type of release, e.g., <code>stable</code>, <code>beta</code>, or <code>rc</code>.</li>
</ul>
<p>Note that <code>&lt;release-type&gt;</code> is ill-defined. Individual software units may define their own release types.</p>
<p>Note further that we do not specify environments such as <code>devnet</code>, <code>testnet</code>, or <code>mainnet</code> in the release name. Though these may be specified in the <code>&lt;release-type&gt;</code> field, we recommend that the governance for each software provide indirection from the environment to a given release.</p>
<p>We thus propose the following standard for releases marking the canonical release which should be used in a given environment:</p>
<pre><code>&lt;software-unit&gt;-&lt;environment&gt;
</code></pre>
<p>An example of how this can be released in Git and GitHub is provided in the following section.</p>
<h3 id="2-standardized-source-control"><a class="header" href="#2-standardized-source-control">2. Standardized Source Control</a></h3>
<ol>
<li>
<p>Source control MUST be responsible for initiating all releases with the following tags:</p>
<ol>
<li>A tag corresponding to the Standardized Release Naming Convention above.</li>
<li>A tag corresponding to the commit hash of the release.</li>
<li>A tag corresponding to the environment indirection for the release should it be valid.</li>
</ol>
</li>
<li>
<p>Releases corresponding to environment indirection MUST only be tagged by making a release from the default branch of the repository.</p>
</li>
<li>
<p>By default, the <code>&lt;release-type&gt;</code> SHOULD correspond to the branch from which the release is made.</p>
</li>
<li>
<p>Tag indirection CAN be performed as follows:</p>
</li>
</ol>
<pre><code class="language-bash">git tag v1.0.0
git push origin v1.0.0
git tag -f latest v1.0.0 
git push origin -f latest 
</code></pre>
<ol start="5">
<li>
<p>GitHub SHOULD be the default source control platform. Within the platform each release should contain at least the archive of the source code which would produce the release artifact.</p>
</li>
<li>
<p>Well-known configuration files MUST also be included in the release archive where they apply.</p>
</li>
<li>
<p>Releases outside of GitHub, e.g., DockerHub, MUST be tagged with the same tags as the GitHub release and linked in the release notes on the GitHub release.</p>
</li>
<li>
<p>Releases to established environments MUST follow governance guidelines for the software unit in question.</p>
</li>
<li>
<p>Releases to established environments MUST trigger an update of all usage of that software unit to the appropriate tag by Movement Labs. This SHOULD be automated to the extent possible to ensure that the source control reflects the canonical release.</p>
</li>
</ol>
<h3 id="3-programmatic-access-to-release-artifacts"><a class="header" href="#3-programmatic-access-to-release-artifacts">3. Programmatic Access to Release Artifacts</a></h3>
<ol>
<li>
<p>Source control SHOULD be the primary source of release artifacts.</p>
</li>
<li>
<p>Artifacts which are in consumable forms such as container images, binaries, or libraries can be consumed as the developer sees fit.</p>
</li>
<li>
<p>We recommend the following Rust pseudocode API for fetching artifacts such as well-known configuration files, contract addresses, or other artifacts which may need an application context to be properly consumed:</p>
</li>
</ol>
<pre><code class="language-rust">trait Release&lt;T&gt; {
    fn fetch_artifact(&amp;self) -&gt; Result&lt;T, Error&gt;;
}

/// Downloads a well-known file from the release in the source control platform.
struct WellKnownFileRelease {
    source: String,
    destination: String
}

/// The downloaded well-known file.
struct WellKnownFileArtifact {
    path: String,
}

impl Release&lt;WellKnownFileArtifact&gt; for WellKnownFileRelease {
    fn fetch_artifact(&amp;self) -&gt; Result&lt;WellKnownFileArtifact, Error&gt; {
       /// ...
    }
}

/// Gets the value of a JSON field from a release file.
struct JSONFieldRelease {
    source: String,
    field: String
}

/// The value of the JSON field.
struct JSONFieldArtifact {
    value: Value
}

/// The JSON field artifact.
impl Release&lt;JSONFieldArtifact&gt; for JSONFieldRelease {
    fn fetch_artifact(&amp;self) -&gt; Result&lt;JSONFieldArtifact, Error&gt; {
       /// ...
    }
}</code></pre>
<ol start="4">
<li>Via the API above, particularly when implemented in Rust, the Developer CAN integrate version fetching into their application, e.g., during setup.</li>
</ol>
<h3 id="4-standard-relationship-between-releases-and-governance"><a class="header" href="#4-standard-relationship-between-releases-and-governance">4. Standard Relationship between Releases and Governance</a></h3>
<p>Releases establish the canonical version of a software unit for a given environment. The governance of the software unit in question is responsible for approving releases to established environments.</p>
<ol>
<li>
<p>Releases to established environments MUST be approved by the governance of the software unit in question.</p>
</li>
<li>
<p>Releases MUST trigger the update of all usage of that software unit to the appropriate tag by Movement Labs. This SHOULD be automated to the extent possible to ensure that the source control reflects the canonical release.</p>
</li>
</ol>
<h2 id="reference-implementation"><a class="header" href="#reference-implementation">Reference Implementation</a></h2>
<h2 id="verification"><a class="header" href="#verification">Verification</a></h2>
<h2 id="appendix"><a class="header" href="#appendix">Appendix</a></h2>
<h2 id="changelog"><a class="header" href="#changelog">Changelog</a></h2>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../../../../Review/gas-fee-calculation/MIP/mip-19/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../../../../Review/andyjsbell/unwanted-framework/MIP/mip-24/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../../../../Review/gas-fee-calculation/MIP/mip-19/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../../../../Review/andyjsbell/unwanted-framework/MIP/mip-24/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../../../../elasticlunr.min.js"></script>
        <script src="../../../../../mark.min.js"></script>
        <script src="../../../../../searcher.js"></script>

        <script src="../../../../../clipboard.min.js"></script>
        <script src="../../../../../highlight.js"></script>
        <script src="../../../../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
