<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>MIP-39: MOVE Token -- HTLC-based Native Bridge Design - MIP</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../../../favicon.svg">
        <link rel="shortcut icon" href="../../../../favicon.png">
        <link rel="stylesheet" href="../../../../css/variables.css">
        <link rel="stylesheet" href="../../../../css/general.css">
        <link rel="stylesheet" href="../../../../css/chrome.css">
        <link rel="stylesheet" href="../../../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../../highlight.css">
        <link rel="stylesheet" href="../../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../../../Approved/main/GLOSSARY.html">Glossary</a></li><li class="chapter-item expanded "><a href="../../../../index.html">Approved</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../index.html">MIPs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../Approved/main/MIP/mip-1/index.html">MIP-1: ENTL (Enclave Nonce Time-lock)</a></li><li class="chapter-item expanded "><a href="../../../../Approved/main/MIP/mip-15/index.html">MIP-15: MG (Movement Gloss)</a></li><li class="chapter-item expanded "><a href="../../../../Approved/main/MIP/mip-39/index.html" class="active">MIP-39: MOVE Token -- HTLC-based Native Bridge Design</a></li><li class="chapter-item expanded "><a href="../../../../Approved/main/MIP/mip-53/index.html">MIP-53: Conventions for Proposing Progressive L2 Models</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../index.html">MDs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../Approved/main/MD/md-1/index.html">MD-1: Minimize Risk of Compromised Bridge Key without Governance</a></li><li class="chapter-item expanded "><a href="../../../../Approved/main/MD/md-3/index.html">MD-3: MCR under Network Partitions and Asynchrony</a></li><li class="chapter-item expanded "><a href="../../../../Approved/main/MD/md-15/index.html">MD-15: Movement Glossary</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../index.html">MGs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../Approved/main/MG/mg-39/index.html">MG-39:  MOVE Token -- Bridge Design</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../index.html">Review</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../index.html">MIPs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../Review/mikhail/suzuka-da-migrations/MIP/mip-13/index.html">MIP-13:  Suzuka DA Migrations Format</a></li><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/ab-ffs-decoupled-demurrage/MIP/mip-42/index.html">MIP-15: NB-FFS Decoupled Demurrage</a></li><li class="chapter-item expanded "><a href="../../../../Review/gas-fee-calculation/MIP/mip-16/index.html">MIP-16: Calculation of gas fees </a></li><li class="chapter-item expanded "><a href="../../../../Review/primata/mip-18/MIP/mip-18/index.html">MIP-18: Stage 0 Upgradeability and Multisigs</a></li><li class="chapter-item expanded "><a href="../../../../Review/andyjsbell/unwanted-framework/MIP/mip-24/index.html">MIP-24: Removal of redundant functionality from framework</a></li><li class="chapter-item expanded "><a href="../../../../Review/andyjsbell/proxy-root/MIP/mip-25/index.html">MIP-25: Proxy Aptos Framework for Stage 0 governance</a></li><li class="chapter-item expanded "><a href="../../../../Review/primata/mip-27/MIP/mip-27/index.html">MIP-27: Contract Pipeline</a></li><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/actor-naming-conventions/MIP/mip-28/index.html">MIP-28: Naming Conventions for Movement Protocol Design</a></li><li class="chapter-item expanded "><a href="../../../../Review/mip/FFS/MIP/mip-34/index.html">MIP-34: Fast-Finality Settlement</a></li><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/ab-ffs-decoupled/MIP/mip-40/index.html">MIP-40: NB-FFS Decoupled</a></li><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/ab-ffs-governed-gas-pool/MIP/mip-44/index.html">MIP-44: NB-FFS Governed Gas Pool</a></li><li class="chapter-item expanded "><a href="../../../../Review/mip/security_falliblity/MIP/mip-46/index.html">MIP-46: Security and Fallibility of the Native Bridge</a></li><li class="chapter-item expanded "><a href="../../../../Review/mip/gas-fees-incremental-additions/MIP/mip-47/index.html">MIP-47: Improve Gas fee collection in phases</a></li><li class="chapter-item expanded "><a href="../../../../Review/0xmovses/aptos-gov-pool/MIP/mip-48/index.html">MIP-48: aptos_governance for Goverened Gas Pool</a></li><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/just-reward/MIP/mip-49/index.html">MIP-49: NB-FFS Governed Fees and Rewards</a></li><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/insured-bridge/MIP/mip-50/index.html">MIP-50: Insured Bridge</a></li><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/the-biarritz-model/MIP/mip-54/index.html">MIP-54: The Biarritz Model</a></li><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/the-bilbao-model/MIP/mip-55/index.html">MIP-55: The Bilbao Model</a></li><li class="chapter-item expanded "><a href="../../../../Review/mip/rate-limiter/MIP/mip-56/index.html">MIP-56: Rate-Limiter for the Native Bridge</a></li><li class="chapter-item expanded "><a href="../../../../Review/mip/informer/MIP/mip-57/index.html">MIP-57: Informer for the Operation of the HTLC-based Native Bridge</a></li><li class="chapter-item expanded "><a href="../../../../Review/mip-58/MIP/mip-58/index.html">MIP-58: Trusted-Relayer focused Bridge Design</a></li><li class="chapter-item expanded "><a href="../../../../Review/mip-crosschain-bridges-background/MIP/mip-60/index.html">MIP-60: Crosschain bridge architectures</a></li><li class="chapter-item expanded "><a href="../../../../Review/mip/relayer-bootstrap-and-reboot/MIP/mip-61/index.html">MIP-61: Relayer in the lock/mint bridge - Algorithm and Bootstrapping </a></li><li class="chapter-item expanded "><a href="../../../../Review/mip/L2confirmation/MIP/mip-65/index.html">MIP-65: FFS: Fastconfirmations</a></li><li class="chapter-item expanded "><a href="../../../../Review/mip/informer-lockmintbridge/MIP/mip-71/index.html">MIP-71: Informer for the Operation of the Lock/Mint Native Bridge</a></li><li class="chapter-item expanded "><a href="../../../../Review/mip/sanfran-model/MIP/mip-73/index.html">MIP-73: The SanFran Model</a></li><li class="chapter-item expanded "><a href="../../../../Review/mip/rate-limiter-lock-mint-bridge/MIP/mip-74/index.html">MIP-74: Rate-Limiter for the Lock/Mint-type Native Bridge</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../index.html">MDs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/enclave-crash-resistant-keys/MD/md-2/index.html">MD-2: Enclave Crash-resistant Key Management</a></li><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/long-range-attacks/MD/md-5/index.html">MD-4: Long Range Attacks</a></li><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/gas-offset/MD/md-4/index.html">MD-4: MCR Offsetting Gas Costs</a></li><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/block-validation/MD/md-6/index.html">MD-6: Suzuka Block Validation</a></li><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/block-validation/MD/md-7/index.html">MD-7: Prevent Suzuka MEV Exploits and Censorship</a></li><li class="chapter-item expanded "><a href="../../../../Review/mikhail/suzuka-da-migrations/MD/md-13/index.html">MD-13: Suzuka DA Migrations Format</a></li><li class="chapter-item expanded "><a href="../../../../Review/primata/bridge-timelock-as-state/MD/md-14/index.html">MD-14: Bridge Should Use A More Secure Timelock</a></li><li class="chapter-item expanded "><a href="../../../../Review/andygolay/move-on-bitcoin/MD/md-16/index.html">MD-16: Create MOVE fungible asset on Bitcoin using runes</a></li><li class="chapter-item expanded "><a href="../../../../Review/primata/md-17/MD/md-17/index.html">MD-17: Bridge Fees</a></li><li class="chapter-item expanded "><a href="../../../../Review/primata/bridge-attestors/MD/md-21/index.html">MD-21: Native Bridge with Attesters</a></li><li class="chapter-item expanded "><a href="../../../../Review/andygolay/md-26/MD/md-26/index.html">MD-26: User-facing checks</a></li><li class="chapter-item expanded "><a href="../../../../Review/primata/md-30/MD/md-30/index.html">MD-30: Movement Name Service</a></li><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/provisions-for-fixed-token-supply/MD/md-38/index.html">MD-38: Provide for Fixed Token Supply when Using Native Bridge and Fast Finality Settlement (FFS)</a></li><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/just-reward/MD/md-49/index.html">MD-49: Movement L2 Gas Fees</a></li><li class="chapter-item expanded "><a href="../../../../Review/mip/informer-lockmintbridge/MD/md-71/index.html">MD-71: Informer service for the Lock/Mint-based Native Bridge</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../index.html">MGs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../Review/mip/FFS/MG/mg-34/index.html">MG-34: </a></li><li class="chapter-item expanded "><a href="../../../../Review/l-monninger/ab-ffs-decoupled-demurrage/MG/mg-42/index.html">MG-42: demurrage token</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">MIP</h1>

                    <div class="right-buttons">
                        <a href="../../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/movementlabsxyz/MIP-Testing" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="mip-39-move-token--htlc-based-native-bridge-design"><a class="header" href="#mip-39-move-token--htlc-based-native-bridge-design">MIP-39: MOVE Token – HTLC-based Native Bridge Design</a></h1>
<ul>
<li><strong>Description</strong>: Architecture of the HTLC-based Native Bridge for $MOVE token.</li>
<li><strong>Authors</strong>: <a href="mailto:franck.cassez@movementlabs.xyz">Franck Cassez</a></li>
</ul>
<h2 id="abstract"><a class="header" href="#abstract">Abstract</a></h2>
<p>This MIP describes the high-level architecture of the <a href="https://bitcoinwiki.org/wiki/hashed-timelock-contracts">HTLC-based</a> <code>$MOVE</code> token Native Bridge. The architecture describes the main bridge components and high-level requirements.</p>
<h2 id="definitions"><a class="header" href="#definitions">Definitions</a></h2>
<ul>
<li><strong>Native Bridge</strong>: The bridge that allows the transfer of tokens between L1 and L2, which hold <code>$L1MOVE</code> and <code>$L2MOVE</code> token, respectively. The native bridge has the capability to mint <code>$L2MOVE</code> tokens.</li>
<li><strong><code>$L1MOVE</code></strong> (or <code>$MOVE</code>) : ERC-20 type token with the source contract on L1</li>
<li><strong><code>$L2MOVE</code></strong> :  Token that is created on L2 after <code>$L1MOVE</code> token is locked on L1. We also say <code>$L1MOVE</code> is bridged from L1 to L2. <code>$L2MOVE</code> may publicly also be called <code>$MOVE</code> but as this causes confusion, here we stick to <code>$L2MOVE</code> to make clear this token lives on L2.</li>
</ul>
<h2 id="motivation"><a class="header" href="#motivation">Motivation</a></h2>
<p>The Movement chain (L2) uses the <code>$L2MOVE</code> token to pay for gas fees. As a result users need to hold <code>$L2MOVE</code> tokens to pay for their transactions.</p>
<blockquote>
<p>[!IMPORTANT]
The <em>native</em> <code>$L1MOVE</code>token is an ERC-20 contract on Ethereum (L1).  By native, we mean that this is the location where the token is minted and burned and where the total supply is set and possibly modified (inflation/deflation). The <strong><code>$L1MOVE</code> token reserve</strong>  is in the L1 contract.</p>
</blockquote>
<p>To use the Movement chain and pay for gas fees, a user will acquire <code>$L1MOVE</code> (native) tokens on L1, and <em>bridge</em> them to L2. On the L2 they can use the token to pay for gas fees or with any other dApps that transact the <code>$L2MOVE</code> token.
Later, a user can choose to migrate their <code>$L2MOVE</code> tokens back to the L1 at any time (thereby converting them to <code>$L1MOVE</code>). These cross-chain assets’s transfers are usually done through a component called a <em>bridge</em>.</p>
<p>In this MIP an HTLC-based bridge, which is the current implementation, is discussed which provides trustlessness.</p>
<h3 id="a-standard-bridge-architecture"><a class="header" href="#a-standard-bridge-architecture">A standard bridge architecture</a></h3>
<p>The process of transferring tokens across different chains is implemented with a <em>bridge</em> (between the chains).</p>
<p>There are several choices for the architecture of a bridge, and we describe here a classical bridge with a  <em>lock-mint</em> protocol (see Chainlink’s <a href="https://chain.link/education-hub/cross-chain-bridge">What Is a Cross-Chain Bridge?</a> for a quick introduction to types of bridges).</p>
<blockquote>
<p>[!WARNING]<br />
The transfer of tokens is one-to-one: a user bridges $k$ <code>$L1MOVE</code> tokens to L2, and they receive $k$ <code>$L2MOVE</code> tokens. Same one-to-one ratio applies from L2 to L1.  The bridge does not allow for <em>swapping</em> tokens against other tokens.</p>
</blockquote>
<p><strong>Lock-and-Mint</strong>. The main idea of the <em>lock-mint</em> protocol is as follows. For the sake of simplicity, assume the two chains (L1 and L2) have only one user and the user has an account <code>l1acc</code> on L1, and another account <code>l2acc</code> on L2.  We also assume that each transfer is for one token.</p>
<p>If the user wants to bridge one <code>$L1MOVE</code> to L2, then</p>
<ul>
<li>they <em>lock</em> (one) <code>$L1MOVE</code> into a (escrow) contract <code>L1InitiatorBridge</code> on the L1 side. To do so they transfer (one) <code>$L1MOVE</code> from <code>l1acc</code> to the <code>L1InitiatorBridge</code> contract;</li>
<li>once the contract <code>L1InitiatorBridge</code> receives the <code>$L1MOVE</code> it emits a corresponding event <code>FundReceivedFrom(l1acc)</code> to the L1 (append-only) logs,</li>
<li>a <em>relayer</em> monitors the logs on the L1 side, and when they see the <code>FundReceived(l1acc)</code> event, they send a transaction to an L2 contract, <code>L2CounterPartyBridge</code> asking the contract to mint (one)  <code>$L2MOVE</code>,</li>
<li>the user requests the transfer of the newly minted <code>$L2MOVE</code> to their account <code>l2acc</code> on L2.</li>
</ul>
<p><strong>Burn-and-Unlock</strong>. The transfer from L2 to L1 is similar:</p>
<ul>
<li>the user transfers (one) <code>$L2MOVE</code> to the <code>L2InitiatorBridge</code> contract. The <code>L2InitiatorBridge</code> burns (destroys) the token and emits an event
<code>TokenBurned(l2acc)</code> to the L2 (append-only) logs,</li>
<li>a relayer monitors the L2 logs and when they see the event <code>TokenBurned(l2acc)</code>, they send a transaction to the L1 contract <code>L1CounterPartyBridge</code> to <em>unlock</em> an <code>$L1MOVE</code> token for account <code>l1acc</code>,</li>
<li>the user (on L1)  requests transfer of one <code>$L1MOVE</code> from the  <code>L1CounterPartyBridge</code> to their account on L1,   <code>l1acc</code>.</li>
</ul>
<p>This protocol can be implemented with three main components:</p>
<ul>
<li>two contracts on the L1 side,</li>
<li>one contract (module) on the L2 (Move) side,</li>
<li>a relayer.</li>
</ul>
<h3 id="hash-time-lock-contracts-htlc"><a class="header" href="#hash-time-lock-contracts-htlc">Hash-time-lock contracts (HTLC)</a></h3>
<p>The proposed native bridge employs Hash-time-lock-contracts (<a href="https://bitcoinwiki.org/wiki/hashed-timelock-contracts">HTLC</a>). HTLC utilizes two main concepts:</p>
<ul>
<li>Time Locks: These ensure transactions complete within a set period. Or funds revert to their owners, preventing loss from delays or non-completion.</li>
<li>Hash Locks: A secret is required to unlock funds, ensuring only participants who fulfill the swap conditions can access the assets.</li>
</ul>
<p>These two mechanisms guarantee atomicity (complete swap or no swap) and trustlessness (no reliance on the counterparty’s honesty), making the transfer secure for cryptocurrency bridging.</p>
<h3 id="attacks-on-bridges"><a class="header" href="#attacks-on-bridges">Attacks on bridges</a></h3>
<p>As can be seen the protocol above has distinct phases, and many things can go wrong. For example</p>
<ul>
<li><strong>User becomes unable to retrieve funds</strong>. The user locks their funds in the L1 contract, but the relayer never issues the minting transaction. In that case the user may never be able to retrieve their funds. What we want is some <em>atomicity</em> between the steps: if the user locks their funds, then either the corresponding minting transaction occurs, or if it does not (and we may set a time bound), the funds are returned to the user on L1.</li>
<li><strong>Crediting the wrong user</strong>. Another source of difficulty is to make sure that only the user <code>l2acc</code> can redeem the <code>$L2MOVE</code> tokens. i.e. they are not credited to another user.</li>
</ul>
<p>Many of the possibly issues have been thoroughly studied and bridges have been in operation for several years. However hacks related to bridges account for more than 1/3 of the total hacks value which tends to indicate that bridges are vulnerable, frequently attacked, and should be designed carefully. Infamous attacks are two Ronin bridge attacks and a Nomad bridge attack</p>
<ul>
<li><a href="https://www.bankinfosecurity.com/crypto-hackers-exploit-ronin-network-for-615-million-a-18810">2022: Crypto Hackers Exploit Ronin Network for $615 Million</a></li>
<li><a href="https://www.coindesk.com/tech/2024/08/06/ronin-bridge-paused-after-9m-drained-in-apparent-whitehat-hack/">2024: Ronin Bridge Paused, Restarted After $12M Drained in Whitehat Hack</a></li>
<li><a href="https://medium.com/immunefi/hack-analysis-nomad-bridge-august-2022-5aa63d53814a">August 2022: Hack Analysis: Nomad Bridge ($192M)</a></li>
</ul>
<p>Some solutions <a href="https://arxiv.org/abs/2410.02029">XChainWatcher</a> rely on monitoring bridges and detect attacks.</p>
<p>Designing a safe bridge is a hard problem.</p>
<h2 id="specification"><a class="header" href="#specification">Specification</a></h2>
<h3 id="bridging-from-l1-to-l2"><a class="header" href="#bridging-from-l1-to-l2">Bridging from L1 to L2</a></h3>
<p>Let <code>user1</code> be a user with an account on L1, and <code>user2</code> be a user with an account on L2.</p>
<blockquote>
<p>[!NOTE]
<strong>Simple context (without loss of generality)</strong>
Assume <code>user1</code> wants to transfer <code>1</code> <code>$L1MOVE</code> tokens, we refer to as <code>asset</code> in the sequel, to <code>user2</code> on L2.</p>
</blockquote>
<h4 id="transfer-steps"><a class="header" href="#transfer-steps">Transfer steps</a></h4>
<p>A successful transfer requires the following these steps:</p>
<ol>
<li><em>user1</em> locks their L1<code>$L1MOVE</code> tokens in the <code>AtomicBridgeInitiatorMOVE.sol</code> contract on L1. The contract emits an event <code>BridgeTransferPending</code> to the L1 logs. At this point in time the transfer becomes <code>INITIALIZED</code> on L1.</li>
<li>A <em>relayer</em> monitors the L1 logs and when they see the <code>BridgeTransferPending</code> event, they send a transaction to the <code>atomic_bridge_counterparty.move</code> module on L2 asking the module to prepare the minting of <code>$L2MOVE</code> tokens. The status of the bridge transfer on L2 becomes <code>PENDING</code>. An event <code>BridgeTransferLocked</code> is emitted to the L2 logs.</li>
</ol>
<blockquote>
<p>[!TIP]
Check point: This is the end of the first phase. Next phase must be triggered by <code>user2</code>.
At that point the bridge transfers details are known by the L1 and the L2.</p>
</blockquote>
<ol start="3">
<li><em>user2</em> (or anybody with the secret) sends a transaction to the <code>atomic_bridge_counterparty.move</code> module on L2 asking to <em>complete the bridge transfer</em>. If the transfer has been properly initialised (step 2 above), this results in minting tokens and transfers the minted tokens to the <code>user2</code> account. If successful, an event <code>BridgeTransferComplete</code> is emitted to the L2 logs. The status of the transfer on L2 becomes <code>COMPLETED</code>.</li>
</ol>
<blockquote>
<p>[!TIP]
Check point: The transfer is completed on L2.
At that stage the <code>$L2MOVE</code> tokens are in the <code>user2</code> account on L2.</p>
</blockquote>
<ol start="4">
<li>
<p>The relayer monitors the L2 logs and when they see the <code>BridgeTransferComplete</code> event, they send a transaction to the <code>AtomicBridgeInitiatorMOVE.sol</code> contract on L1 to <em>complete the bridge transfer</em>. This closes the status of the transfer on L1 and the status of the transfer becomes <code>COMPLETED</code>. An event <code>BridgeTransferComplete</code> is emitted to the L1 logs.</p>
</li>
<li>
<p><code>user1</code> can claim a refund on L1 after a certain time, <code>timelock1</code>, has elapsed.
This introduces possible concurrent unwanted behaviors, and a timelock has to be set on L2, <code>timelock2</code>, to prevent the relayer from completing the transfer on L2 after the refund has been claimed on L1.</p>
</li>
</ol>
<p>The following diagram (Figure 1) illustrates the steps above:</p>
<hr />
<p><img src="L1ToL2.png" alt="alt text" />
<strong>Figure 1</strong>: Time chart of the bridge protocol from L1 to L2.</p>
<hr />
<blockquote>
<p>[!CAUTION]
Fault-tolerance
As there can be crashes or delays or network partitions, the protocol should be <em>fault-tolerant</em> to a certain extent.
This is done by the use of <code>timelocks</code> on the L1 and L2 sides that restrict the operations above to occur within <em>bounded time windows</em>.</p>
</blockquote>
<p>In order to ensure that the funds can only be transferred from <code>user1</code> to <code>user2</code>, <code>user1</code> locks (step 1. <code>init_bridge_transfer()</code>) the funds with a <code>secret</code>.
To unlock the funds on L2, <code>user2</code> needs to prove they know the secret when they request the funds on L2 (step 3. <code>complete_bridge_transfer()</code>).</p>
<blockquote>
<p>[!IMPORTANT]<br />
<strong>Requirements for the bridge protocol</strong>
The desired properties of the bridge protocol (L1 to L2) are  <strong>atomicity</strong> and <strong>liveness</strong>:</p>
<ul>
<li>[safety-1] <code>user1</code> SHOULD be able to initiate a transfer at any time.</li>
<li>[safety-2] <code>user1</code> MUST NOT be able to <strong>get a refund</strong> if the transfer <strong>has been completed on L2</strong> and <code>user2</code> has the funds on L2.</li>
<li>[liveness-1] if the relayer is live and relays all events within a bounded time, <code>user1</code> SHOULD be able to complete the transfer on L2 and get the asset on L2.</li>
<li>[liveness-2] if the transfer has not been completed by the L2 within a time window <code>timelock1</code> since <code>user1</code> initiated the transfer, <code>user1</code> MUST be able to get a refund on L1.</li>
</ul>
</blockquote>
<p>As can be seen in the diagram above, the safety of the bridge may depend on:</p>
<ul>
<li>the relayer being live and <strong>relaying all events within a bounded time</strong>,</li>
<li>the timelocks’ values <strong>being set</strong> correctly.</li>
</ul>
<p>For instance if <code>timeLock2</code> is larger than <code>timeLock1</code>, the following scenario can happen:</p>
<ul>
<li>the <code>complete_bridge_transfer()</code> tx completes on L2 and funds are transferred to <code>users2</code>,</li>
<li>the relayer does not relay the event <code>BridgeTransferCompleted!</code> fast enough,</li>
<li><code>user1</code> on L1 asks for a refund, <code>request_refund()</code>, which is successful and gets the asset back.</li>
</ul>
<p>The correctness of the implementation depends on the timelocks’ values and is addressed in the Verification section below.</p>
<h4 id="security--permissions"><a class="header" href="#security--permissions">Security &amp; Permissions</a></h4>
<p>Contracts’s APIs:</p>
<div class="table-wrapper"><table><thead><tr><th>Layer</th><th>Function Name</th><th>Permission</th><th>#Event</th></tr></thead><tbody>
<tr><td>L1</td><td><code>init_bridge_transfer()</code></td><td>User1</td><td>BridgeTransferPending</td></tr>
<tr><td>L1</td><td><code>request_refund()</code></td><td>User1</td><td>BridgeTransferRefunded</td></tr>
<tr><td>L1</td><td><code>complete_bridge_transfer()</code></td><td>Relayer</td><td>BridgeTransferCompleted</td></tr>
<tr><td></td><td></td><td></td><td></td></tr>
<tr><td>L2</td><td><code>lock_bridge_asset_transfer()</code></td><td>Relayer</td><td>BridgeTransferLocked</td></tr>
<tr><td>L2</td><td><code>complete_bridge_transfer()</code></td><td>User2</td><td>BridgeTransferCompleted</td></tr>
<tr><td>L2</td><td><code>abort_bridge_transfer()</code></td><td>Relayer</td><td>BridgeTransferAborted</td></tr>
</tbody></table>
</div>
<p>The permissions are set to ensure that only the user who initiated the transfer can request a refund, and only the relayer can complete the transfer on L2.</p>
<p>Other safety considerations include the use of <a href="https://eips.ethereum.org/EIPS/eip-55">EIP-55</a> (L1 side) checksums for addresses. There is some code immplemented in the L2 Move contract [ethereum_module](<a href="https://github.com/movementlabsxyz/aptos-core/blob/061155119258caab512aec6aa860b086e5f312e0/aptos-move/framework/aptos-framework/sources/atomic_bridge.move#L1">https://github.com/movementlabsxyz/aptos-core/blob/061155119258caab512aec6aa860b086e5f312e0/aptos-move/framework/aptos-framework/sources/atomic_bridge.move#L1</a> to check EIP-55 compliance so we may enforce EIP-55 compliance at some stage.</p>
<h3 id="bridging-from-l2-to-l1"><a class="header" href="#bridging-from-l2-to-l1">Bridging from L2 to L1</a></h3>
<h4 id="transfer-steps-1"><a class="header" href="#transfer-steps-1">Transfer steps</a></h4>
<p>A successful transfer from L2 to L1 requires the following these steps:</p>
<ol>
<li><em>user2</em> burns their L2$MOVE tokens in the <code>atoic_bridge_initiator.move</code>  contract on L2. The contract emits an event <code>BridgeTransferInitiated</code> to the L2 logs. At this point in time the transfer becomes <code>INITIALIZED</code> (or pending) on L2.</li>
<li>A <em>relayer</em> monitors the L2 logs and when they see the <code>BridgeTransferInitiated</code> event, they send a transaction to the <code>AtomicBridgeCounperPartyMOVE.sol</code> contract on L1 asking the module to prepare to <em>unlock</em> L1$MOVE tokens. The status of the bridge transfer on L1 becomes <code>PENDING</code>. An event <code>BridgeTransferLocked</code> is emitted to the L1 logs.</li>
</ol>
<blockquote>
<p>[!TIP]
Check point. `user2’ does not have the asset on L2 anymore.
At that point the bridge transfers details are known by the L1 and the L2.</p>
</blockquote>
<ol start="3">
<li><em>user1</em> (or anybody with the secret) sends a transaction to the <code>AtomicBridgeCounterParty.sol</code> contract on L1 asking to <em>complete the bridge transfer</em>. If the transfer has been properly initialized (step 2 above), this results in transferring $L1MOVE tokens to the <code>user1</code> account. If successful, an event <code>BridgeTransferCompleted</code> is emitted to the L1 logs. The status of the transfer on L1 becomes <code>COMPLETED</code>.</li>
</ol>
<blockquote>
<p>[!TIP]
Check point. <code>User1</code> has the asset on L1.
At that stage the L1$MOVE tokens are in the <code>user1</code> account on L1.</p>
</blockquote>
<ol start="4">
<li>
<p>The relayer monitors the L1 logs and when they see the <code>BridgeTransferCompleted</code> event, they send a transaction to the <code>atomic_bridge_initiator.move</code> module on L2 to <em>complete the bridge transfer</em>. This closes the status of the transfer on L2 and the status of the transfer becomes <code>COMPLETED</code>. An event <code>BridgeTransferCompleted</code> is emitted to the L2 logs.</p>
</li>
<li>
<p><code>user2</code> can claim a refund on L1 after a certain time, <code>timelock2</code>, has elapsed.
This introduces possible concurrent unwanted behaviors, and a timelock has to be set on L2, <code>timelock2</code>, to prevent the relayer from completing the transfer on L1 after the refund has been claimed on L2.</p>
</li>
</ol>
<p>The following diagram (Figure 1) illustrates the steps above:</p>
<hr />
<p><img src="L2ToL1.png" alt="alt text" /></p>
<p><strong>Figure 2</strong>: Time chart of the bridge protocol from L2 to L1.</p>
<hr />
<h4 id="security--permissions-1"><a class="header" href="#security--permissions-1">Security &amp; Permissions</a></h4>
<p>Contracts’s APIs:</p>
<div class="table-wrapper"><table><thead><tr><th>Layer</th><th>Function Name</th><th>Permission</th><th>#Event</th></tr></thead><tbody>
<tr><td>L2</td><td><code>initiate_bridge_transfer()</code></td><td>User2</td><td>BridgeTransferPending</td></tr>
<tr><td>L2</td><td><code>request_refund()</code></td><td>User2</td><td>BridgeTransferRefunded</td></tr>
<tr><td>L2</td><td><code>complete_bridge_transfer()</code></td><td>Relayer</td><td>BridgeTransferCompleted</td></tr>
<tr><td></td><td></td><td></td><td></td></tr>
<tr><td>L1</td><td><code>lock_bridge_transfer()</code></td><td>Relayer</td><td>BridgeTransferLocked</td></tr>
<tr><td>L1</td><td><code>complete_bridge_transfer()</code></td><td>User1</td><td>BridgeTransferCompleted</td></tr>
<tr><td>L1</td><td><code>request_refund()</code></td><td>User2</td><td>BridgeTransferRefunded</td></tr>
</tbody></table>
</div>
<p>The permissions are set to ensure that only the user who initiated the transfer can request a refund, and only the relayer can complete the transfer on L1.</p>
<p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “NOT RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in RFC 2119 and RFC 8174.</p>
<h2 id="reference-implementation"><a class="header" href="#reference-implementation">Reference Implementation</a></h2>
<h3 id="bridging-from-l1-to-l2-1"><a class="header" href="#bridging-from-l1-to-l2-1">Bridging from L1 to L2</a></h3>
<p>The contracts involved are:</p>
<ul>
<li>Solidity contract <a href="https://github.com/movementlabsxyz/movement/blob/main/protocol-units/bridge/contracts/src/AtomicBridgeInitiatorMOVE.sol">AtomicBridgeInitiatorMOVE.sol</a> on L1.</li>
<li>Move Module <a href="https://github.com/movementlabsxyz/aptos-core/blob/061155119258caab512aec6aa860b086e5f312e0/aptos-move/framework/aptos-framework/sources/atomic_bridge.move#L1163">atomic_bridge_counterparty.move</a> on L2.</li>
</ul>
<p>The current implementation is a <em>lock-mint</em> bridge. The user locks their <code>$L1MOVE</code> tokens in the <code>AtomicBridgeInitiatorMOVE</code> contract, and the <code>atomic_bridge_counterparty.move</code> module mints the corresponding <code>$L2MOVE</code> tokens.</p>
<h3 id="bridging-from-l2-to-l1-1"><a class="header" href="#bridging-from-l2-to-l1-1">Bridging from L2 to L1</a></h3>
<p>The contracts involved are:</p>
<ul>
<li>Solidity contract <a href="http:githug.com/movementlabsxyz/movement/blob/main/protocol-units/bridge/contracts/src/AtomicBridgeCounterPartyMOVE.sol">AtomicBridgeCounterPartyMOVE.sol</a> on L1,</li>
<li>module <a href="https://github.com/movementlabsxyz/aptos-core/blob/061155119258caab512aec6aa860b086e5f312e0/aptos-move/framework/aptos-framework/sources/atomic_bridge.move#L121">atomic_bridge_initiator.move</a> on L2.</li>
</ul>
<h3 id="relayer-and-services"><a class="header" href="#relayer-and-services">Relayer and Services</a></h3>
<p>The (Rust) relayer logics are in <a href="https://github.com/movementlabsxyz/movement/tree/main/protocol-units/bridge/service">service folder</a>.</p>
<p><img src="L1ToL2.png" alt="alt text" /></p>
<blockquote>
<p>[!WARNING]
If the value of the parameter <code>timeLockL2</code> is larger than <code>timeLockL1</code>, the following scenario can happen:</p>
<ul>
<li>the <code>completeBridgeTransfer</code> tx completes on L2 and funds are transferred to the target address on L2,</li>
<li>the relayer does not relay the event fast enough,</li>
<li>the user on L1 asks for a refund, and the <code>refund</code> tx is executed on L1.</li>
</ul>
</blockquote>
<p>User gets funds on L2, and gets their fund back on L1.</p>
<!--
  The Reference Implementation section should include links to and an overview of a minimal implementation that assists in understanding or implementing this specification. The reference implementation is not a replacement for the Specification section, and the proposal should still be understandable without it.

  TODO: Remove this comment before submitting
-->
<h2 id="verification"><a class="header" href="#verification">Verification</a></h2>
<h3 id="bridge-l1-to-l2"><a class="header" href="#bridge-l1-to-l2">Bridge L1 to L2</a></h3>
<p>The correctness of the bridge operation from L1 to L2 depends on several factors:</p>
<ul>
<li>the timelocks’ values,</li>
<li>the control of the keys to operate the bridge,</li>
<li>the verification of the <code>secret</code>.</li>
</ul>
<p>We assume that the keys are not compromised, and that the logics in the contracts ensure that the secret <code>user1</code> uses is requested by the <code>complete_bridge_transfer</code> tx on L2. This can tested on L1 (Solidity) and formally verified on L2 (Move and Move Prover).</p>
<p>In this section we focus on the timelocks’ values, as this involves a sequence of operations on L1 and L2.
We model the bridge transactions (L1 to L2) and the transfers of assets with a <a href="https://www.cis.upenn.edu/~alur/TCS94.pdf">network of timed automata</a>.
The safety and liveness properties are defined by temporal logics formulas and can be verified with model-checking tools such as <a href="http://www.uppaal.org/">UPPAAL</a>.</p>
<p>The UPPAAL model is available in <a href="./uppaal-models/bridge-up-v2.xml">this-file</a>.
To reproduce the results and check the properties on the model, you need a working version of UPPAAL.</p>
<p>The results of the model-checking verification are as follows: let $maxRelayerDelay$ be the <strong>maximum delay</strong> for the relayer to relay an event, and $timeLock1$ and $timeLock2$ be the timelocks on L1 and L2 respectively.</p>
<blockquote>
<p>[!IMPORTANT]
<strong>Verification results</strong>
We have <strong>proved</strong> (model-checked with UPPAAL) the following properties (valid using the versions of the contracts below):</p>
<ul>
<li>contract (Move): <a href="https://github.com/movementlabsxyz/aptos-core/blob/movement/aptos-move/framework/aptos-framework/sources/atomic_bridge.move">atomic_bridge.move</a>, commit <a href="https://github.com/movementlabsxyz/aptos-core/commit/c1ecd0afd250fd71fe9ffc168b2ba7bafa97ffb3">c1ecd0a</a></li>
<li>contracts (Solidity): <a href="https://github.com/movementlabsxyz/movement/blob/main/protocol-units/bridge/contracts/src/AtomicBridgeInitiatorMOVE.sol">AtomicBridgeInitiatorMOVE.sol</a> and <a href="https://github.com/movementlabsxyz/movement/blob/main/protocol-units/bridge/contracts/src/AtomicBridgeCounterpartyMOVE.sol">AtomicBridgeCounterpartyMOVE.sol</a> in this commit  <a href="https://github.com/movementlabsxyz/movement/commit/200c9f9d10fa8863b096ab3cd5442938c358a091">200c9f9</a></li>
<li>[safety-1]: there exists an execution path such that <code>user1</code> initiates and completes a transfer on L2 within a time window $timeLock1$,</li>
<li>[safety-2]: <strong>Provided</strong> the relayer relays the events within a time window $maxRelayerDelay$, <strong>AND</strong> $timelock1 &gt; timelock2 + 2 \times  maxRelayerDelay$, <code>user1</code> cannot get a refund on L1 if the transfer has been completed on L2,</li>
<li>[liveness-1] if the relayer is not down, <code>user2</code> can get the funds on L2, after $timelock1 + 2 * maxRelayerDelay$ time units.</li>
<li>[liveness-2] if the transfer is not successful on L2 within $timelock1$, <code>user1</code> can get a refund on L1 (after $timelock1$ time units).</li>
</ul>
</blockquote>
<p>Note that [safety-2] does hold if the relayer is down for more than $maxRelayerDelay$, or the timelocks are not set correctly.</p>
<h3 id="bridge-l2-to-l1"><a class="header" href="#bridge-l2-to-l1">Bridge L2 to L1</a></h3>
<p>The only difference between L1 to L2 is the way assets are created/destroyed. However, the formal model abstracts away this difference and the same properties hold for the L2 to L1 bridge.</p>
<!--

  All proposals must contain a section that discusses the various aspects of verification pertinent to the introduced changes. This section should address:

  1. **Correctness**: Ensure that the proposed changes behave as expected in all scenarios. Highlight any tests, simulations, or proofs done to validate the correctness of the changes.

  2. **Security Implications**: Address the potential security ramifications of the proposal. This includes discussing security-relevant design decisions, potential vulnerabilities, important discussions, implementation-specific guidance, and pitfalls. Mention any threats, risks, and mitigation strategies associated with the proposal.

  3. **Performance Impacts**: Outline any performance tests conducted and the impact of the proposal on system performance. This could be in terms of speed, resource consumption, or other relevant metrics.

  4. **Validation Procedures**: Describe any procedures, tools, or methodologies used to validate the proposal against its requirements or objectives. 

  5. **Peer Review and Community Feedback**: Highlight any feedback from peer reviews or the community that played a crucial role in refining the verification process or the proposal itself.

  TODO: Remove this comment before submitting
-->
<!-- ---

## Errata -->
<!--
  Errata should be maintained after publication.

  1. **Transparency and Clarity**: An erratum acknowledges any corrections made post-publication, ensuring that readers are not misled and are always equipped with the most accurate information.

  2. **Accountability**: By noting errors openly, we maintain a high level of responsibility and ownership over our content. It’s an affirmation that we value precision and are ready to correct oversights.

  Each erratum should briefly describe the discrepancy and the correction made, accompanied by a reference to the date and version of the proposal in which the error was identified.

  TODO: Maintain this comment.
-->
<hr />
<h2 id="appendix"><a class="header" href="#appendix">Appendix</a></h2>
<p>The UPPAAL models of the L1 to L2 tranfers are available in the <a href="./uppaal-models">uppaal-models</a> directory.
The simplest model is <a href="./uppaal-models/bridge-up-v2.xml">bridge-up-v2.xml</a> and the more complex model is <a href="./uppaal-models/bridge-up-v3.xml">bridge-up-v3.xml</a> with probabilities.</p>
<p>You can request a license to use UPPAAL at <a href="http://www.uppaal.org/">UPPAAL</a>.</p>
<!--
  The Appendix should contain an enumerated list of reference materials and notes.

  When referenced elsewhere each appendix should be called out with [A<number>](#A<number>) and should have a matching header.

  TODO: Remove this comment before finalizing.

-->
<!-- 
### A1

Nothing important here. -->
<hr />
<h2 id="copyright"><a class="header" href="#copyright">Copyright</a></h2>
<p>Copyright and related rights waived via <a href="../LICENSE.html">CC0</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../../../Approved/main/MIP/mip-15/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../../../Approved/main/MIP/mip-53/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../../../Approved/main/MIP/mip-15/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../../../Approved/main/MIP/mip-53/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../../../elasticlunr.min.js"></script>
        <script src="../../../../mark.min.js"></script>
        <script src="../../../../searcher.js"></script>

        <script src="../../../../clipboard.min.js"></script>
        <script src="../../../../highlight.js"></script>
        <script src="../../../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
